# @server_url = https://dhoolia.ngrok.io
# @server_url = https://dhoolia.com
@server_url = http://localhost:3000

### Onboard: New Project
POST {{server_url}}/onboard HTTP/1.1
Content-Type: application/json
Accept: application/json

{
    "repo_full_name": "pdhoolia/se-agent",
    "src_folder": "se_agent",
    "main_branch": "main"
}

### Onboard / Refresh: Existing Project
PUT {{server_url}}/onboard HTTP/1.1
Content-Type: application/json
Accept: application/json

{
    "repo_full_name": "pdhoolia/se-agent",
    "src_folder": "se_agent",
    "main_branch": "main"
}

### Test Issue Creation Event
POST {{server_url}}/webhook HTTP/1.1
Content-Type: application/json
Accept: application/json

{
    "action": "opened",
    "issue": {
        "number": 33,
        "title": "Allow project level override for VectorType",
        "body": "Current implementation uses a system wide default for vector type.\nVector type is intended to represent the artifact that we are embedding (or vectorizing).\nDifferent vector type documents are added to different collections named after the vector type.\nDefault vector type is intended to govern the collection that will be used for semantic search while localizing.\nAt the moment, we only index semantic summaries.\nOur research reveals that some embedding models (e.g., `OpenAIEmbeddings`) are really good in directly representing code semantics. I.e., directly embedding the code is more effective than embedding a semantic summary document generated from code.\n\nThis proposal intends to enable the following:\n1. While updating code understanding, also add direct code content to the vector store. This should be added to the `VectorType.CODE` related collection.\n2. Add a new project level configuration, which governs the vector collection that will be used at runtime to localize the issue.",
        "state": "open"
    },
    "repository": {
        "full_name": "pdhoolia/se-agent"
    }
}